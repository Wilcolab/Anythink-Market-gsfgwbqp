// toSnakeCase helper moved here from frontend/src/utils.js
// Usage: Call the function with a string to get a snake_case version.
function toSnakeCase(input) {
	if (input === null || input === undefined) return '';
	const str = String(input).trim();
	if (str.length === 0) return '';

	// Handle camelCase and PascalCase by inserting an underscore before capitals
	// but only when preceded by a lowercase letter or digit.
	const withUnderscores = str.replace(/([a-z0-9])([A-Z])/g, '$1_$2');

	// Replace any non-alphanumeric characters with underscores
	const replaced = withUnderscores.replace(/[^A-Za-z0-9]+/g, '_');

	// Collapse multiple underscores and trim leading/trailing underscores
	const collapsed = replaced.replace(/_+/g, '_').replace(/^_+|_+$/g, '');

	return collapsed.toLowerCase();
}

// Example:
// toSnakeCase('Hello World') // 'hello_world'
